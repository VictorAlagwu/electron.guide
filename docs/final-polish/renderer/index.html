<!DOCTYPE html>

<html lang="en">
    <head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-141764204-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-141764204-1');
    </script>

    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-5444136912913928",
    enable_page_level_ads: true
  });
</script>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>electron.guide | The Final Polish - BrowserWindow  </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">



    
    <link href="/css/css.css" rel="stylesheet">
    <link href="/css/css1.css" rel="stylesheet">

    
    <link rel="stylesheet" href="/css/doc.css">

    
    <link rel="icon" href="/favicon.ico">



    <link rel="stylesheet" type="text/css" href="/css/css2.css">
</head>
    <body>
    
<div id="PBExt-overlayId" style="color: rgb(255, 255, 255); text-align: center;"></div>



<div id="react-navigation-root">
    <div class="doc-navigation" data-reactroot="">
        <nav class="doc-navbar"><a href="/" class="doc-navbar__logo">
            <img src="/static/images/logo.svg" class="doc-navbar__logo__img"><span class="doc-navbar__logo__text">electron.guide</span></a><i class="dc-icon dc-icon--close dc-icon--interactive doc-sidebar-close doc-navbar__sidebar-close doc-navbar__sidebar-close--desktop"></i><i
                class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-navbar__sidebar-toggle"></i>
            <div class="dc-search-form doc-search-form"><input type="search" class="dc-input dc-search-form__input doc-search-form__input"
                    placeholder="Search..."><button class="dc-btn dc-search-form__btn doc-search-form__btn"><i class="dc-icon dc-icon--search"></i></button></div>
        </nav>
        <nav class="doc-sidebar">
            <div class="doc-sidebar__vertical-menu"><i class="dc-icon dc-icon--menu dc-icon--interactive doc-sidebar-toggle doc-sidebar-toggle--primary doc-sidebar__vertical-menu__item"></i><i
                    class="dc-icon dc-icon--search dc-icon--interactive doc-sidebar__vertical-menu__item doc-sidebar__vertical-menu__item--primary"></i></div>
            <div class="doc-sidebar-content">
                <div class="doc-sidebar__search-form">
                    <div class="dc-search-form doc-search-form"><input type="search" class="dc-input dc-search-form__input doc-search-form__input"
                            placeholder="Search..."><button class="dc-btn dc-search-form__btn doc-search-form__btn"><i
                                class="dc-icon dc-icon--search"></i></button></div>
                </div>
                
                <ul class="doc-sidebar-list">
                  
                </ul>
             
            </div>
        </nav>
    </div>
</div>
<div class="doc-content">
<div class="dc-page">
<div class="dc-card">

<a title="Edit page on GitHub" href="https://github.com/rocketlaunchr/electron.guide/blob/master/content/final-polish/renderer.md" target="_blank" style="position:relative;float:right;font-size:30px;cursor:pointer"><img height="32px" width="32px" src='data:image/svg+xml;utf8,<svg preserveAspectRatio="xMidYMid" version="1.1" viewBox="0 0 256 250" xmlns="http://www.w3.org/2000/svg">
<path d="m128 0c-70.684 0-128 57.307-128 128 0 56.554 36.676 104.53 87.535 121.46 6.3971 1.1849 8.7457-2.7767 8.7457-6.1576 0-3.0523-0.1187-13.135-0.17381-23.831-35.61 7.7431-43.124-15.102-43.124-15.102-5.8227-14.795-14.212-18.729-14.212-18.729-11.614-7.9444 0.87541-7.7812 0.87541-7.7812 12.854 0.90297 19.622 13.191 19.622 13.191 11.416 19.569 29.944 13.911 37.249 10.641 1.1488-8.273 4.4661-13.92 8.1267-17.116-28.431-3.2367-58.318-14.212-58.318-63.259 0-13.975 5.0002-25.393 13.188-34.357-1.329-3.224-5.7103-16.243 1.24-33.874 0 0 10.749-3.4402 35.209 13.121 10.21-2.8361 21.16-4.2584 32.038-4.3071 10.878 0.048752 21.837 1.471 32.066 4.3071 24.431-16.561 35.165-13.121 35.165-13.121 6.9673 17.631 2.5838 30.65 1.2548 33.874 8.2073 8.964 13.174 20.382 13.174 34.357 0 49.163-29.944 59.988-58.447 63.157 4.5911 3.9722 8.6821 11.762 8.6821 23.704 0 17.127-0.14837 30.911-0.14837 35.127 0 3.4063 2.3041 7.3976 8.7923 6.1406 50.831-16.944 87.461-64.908 87.461-121.44 0-70.694-57.309-128-128-128zm-80.061 182.34c-0.28191 0.63589-1.2824 0.82666-2.1938 0.39002-0.9284-0.41757-1.4498-1.2845-1.1488-1.9225 0.27555-0.65497 1.2781-0.83726 2.2044-0.39849 0.93052 0.41757 1.4604 1.293 1.1382 1.931zm6.2962 5.618c-0.61046 0.56594-1.8038 0.30311-2.6135-0.59138-0.83726-0.89237-0.99411-2.0857-0.37518-2.6602 0.62953-0.56594 1.7869-0.30099 2.6262 0.59138 0.83726 0.90297 1.0005 2.0878 0.36246 2.6602zm4.3195 7.1881c-0.78427 0.54475-2.0667 0.033914-2.8594-1.1043-0.78427-1.1382-0.78427-2.5033 0.016957-3.0502 0.79487-0.54687 2.0582-0.05511 2.8615 1.0747 0.78215 1.1573 0.78215 2.5224-0.019077 3.0798zm7.3051 8.3248c-0.7016 0.77367-2.196 0.56595-3.2897-0.48964-1.1192-1.0323-1.4308-2.4969-0.72704-3.2706 0.71008-0.77579 2.2129-0.55747 3.3151 0.48964 1.1107 1.0301 1.4498 2.5054 0.7016 3.2706zm9.4412 2.8104c-0.30947 1.0026-1.7487 1.4583-3.1985 1.0323-1.4477-0.43877-2.3952-1.613-2.1027-2.6262 0.30099-1.009 1.7466-1.4838 3.207-1.028 1.4456 0.43665 2.3952 1.6025 2.0942 2.622zm10.744 1.1921c0.036034 1.0556-1.1934 1.931-2.7153 1.9501-1.5304 0.033914-2.7683-0.8203-2.7852-1.8589 0-1.0662 1.2018-1.9331 2.7322-1.9586 1.5219-0.029675 2.7683 0.81818 2.7683 1.8674zm10.555-0.4046c0.18229 1.0301-0.87541 2.0878-2.3867 2.3698-1.4859 0.27131-2.8615-0.36458-3.0502-1.3862-0.18441-1.0556 0.89237-2.1133 2.3761-2.3867 1.5134-0.26284 2.8679 0.3561 3.0608 1.4032z" fill="161614"/>
</svg>'></a>
  
  


  <div id="react-search-results-root">
      <div class="doc-search-results"></div>
  </div>
  <div id="page-content" class="doc-formatting">
    

<h1 id="the-final-polish-before-release">The Final Polish before release</h1>

<p><strong>The BrowserWindow is actually a <em>chromium</em> web browser!</strong></p>

<h3 id="passing-data-into-browserwindow"><strong>Passing data into BrowserWindow</strong></h3>

<p>If you use <a href="https://reactjs.org/">React.js</a> for your BrowserWindow javascript, you may need to pass data from the <code>main</code> process to the <code>renderer</code> process just in time for your initial state and props.</p>

<p>You need to know the difference between these two events: <code>dom-ready</code> and <code>ready-to-show</code>.</p>

<ol>
<li><code>ready-to-show</code> event is part of <code>BrowserWindow</code>, and <code>dom-ready</code> event is part of <code>webContents</code>.</li>
<li>In the BrowserWindow event life-cycle, <code>dom-ready</code> always comes <strong>before</strong> <code>ready-to-show</code>.</li>
<li>You can inject data like this:</li>
</ol>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#069;font-weight:bold">const</span> { BrowserWindow } <span style="color:#555">=</span> require(<span style="color:#c30">&#39;electron&#39;</span>)

<span style="color:#069;font-weight:bold">let</span> win <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">new</span> BrowserWindow({ show<span style="color:#555">:</span> <span style="color:#069;font-weight:bold">false</span> })

win.once(<span style="color:#c30">&#39;ready-to-show&#39;</span>, () =&gt; {
    win.show()
})

win.webContents.on(<span style="color:#c30">&#39;dom-ready&#39;</span>, (event) =&gt; {
    win.WebContents.send(<span style="color:#c30">&#34;&lt;channel&gt;&#34;</span>, Data1, Data2, Data3)
})
</code></pre></div>
<p>See:</p>

<ul>
<li><a href="https://electronjs.org/docs/api/browser-window">https://electronjs.org/docs/api/browser-window</a></li>
<li><a href="https://electronjs.org/docs/api/web-contents">https://electronjs.org/docs/api/web-contents</a></li>
</ul>

<h3 id="prevent-browserwindow-refreshes"><strong>Prevent BrowserWindow refreshes</strong></h3>

<p>A user can press <code>Cmd+R</code> (on MacOS) or <code>F5</code> (on Windows) to refresh the webpage shown by the BrowserWindow. True native applications don&rsquo;t exhibit this behaviour.</p>

<p>One way to solve this is to Disable the keyboard shortcuts when the BrowserWindow takes focus and then unregister the shortcuts when the BrowserWindow loses focus or is closed/hidden.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#069;font-weight:bold">const</span> { globalShortcut } <span style="color:#555">=</span> require(<span style="color:#c30">&#39;electron&#39;</span>)

win.on(<span style="color:#c30">&#39;focus&#39;</span>, (event) =&gt; {
    globalShortcut.registerAll([<span style="color:#c30">&#39;CommandOrControl+R&#39;</span>,<span style="color:#c30">&#39;F5&#39;</span>], () =&gt; {})
})

win.on(<span style="color:#c30">&#39;blur&#39;</span>, (event) =&gt; {
    globalShortcut.unregisterAll()
})
</code></pre></div>
<p>See: <a href="https://electronjs.org/docs/api/global-shortcut">https://electronjs.org/docs/api/global-shortcut</a></p>

<h3 id="prevent-file-drags-into-browserwindow"><strong>Prevent File Drags into BrowserWindow</strong></h3>

<p>A user can drag a file into a BrowserWindow. The BrowserWindow will then display the file.
You can disable it by using <a href="https://github.com/ecrmnn/electron-disable-file-drop">https://github.com/ecrmnn/electron-disable-file-drop</a>.</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">require(<span style="color:#c30">&#39;electron-disable-file-drop&#39;</span>); <span style="color:#09f;font-style:italic">// In renderer process
</span><span style="color:#09f;font-style:italic"></span></code></pre></div>
<h3 id="disable-dragging-and-user-selections"><strong>Disable Dragging and User Selections</strong></h3>

<p>Users can drag certain elements inside the Body. They can also &ldquo;select&rdquo; content on the window (to cut/copy). True native applications don&rsquo;t exhibit this behavior.</p>

<p>Add this CSS:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#0a8;font-weight:bold">noselect</span> {
  <span style="color:#069">-webkit-</span>touch-callout: <span style="color:#069;font-weight:bold">none</span>; <span style="color:#09f;font-style:italic">/* iOS Safari */</span>
    <span style="color:#069">-webkit-</span><span style="color:#069;font-weight:bold">user-select</span>: <span style="color:#069;font-weight:bold">none</span>; <span style="color:#09f;font-style:italic">/* Safari */</span>
     <span style="color:#069">-khtml-</span><span style="color:#069;font-weight:bold">user-select</span>: <span style="color:#069;font-weight:bold">none</span>; <span style="color:#09f;font-style:italic">/* Konqueror HTML */</span>
       <span style="color:#069">-moz-</span><span style="color:#069;font-weight:bold">user-select</span>: <span style="color:#069;font-weight:bold">none</span>; <span style="color:#09f;font-style:italic">/* Firefox */</span>
        <span style="color:#069">-ms-</span><span style="color:#069;font-weight:bold">user-select</span>: <span style="color:#069;font-weight:bold">none</span>; <span style="color:#09f;font-style:italic">/* Internet Explorer/Edge */</span>
            <span style="color:#069;font-weight:bold">user-select</span>: <span style="color:#069;font-weight:bold">none</span>; <span style="color:#09f;font-style:italic">/* Non-prefixed version, currently
</span><span style="color:#09f;font-style:italic">                                  supported by Chrome and Opera */</span>
}</code></pre></div>
<p>Add this attribute and class to the Body and various HTML elements:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#309;font-weight:bold">body</span> <span style="color:#309">draggable</span><span style="color:#555">=</span><span style="color:#c30">&#34;false&#34;</span> <span style="color:#309">class</span><span style="color:#555">=</span><span style="color:#c30">&#34;noselect&#34;</span>&gt;</code></pre></div>
<h3 id="hide-dev-tools"><strong>Hide Dev Tools</strong></h3>

<p>The user can easily open up the BrowserWindow DevTools and peek inside and modify your variables. This is very dangerous from a security perspective.</p>

<p>The user can open the DevTools by keyboard shortcuts and passing command line arguments.</p>

<p>Remember to disable it for Production release:</p>
<div class="highlight"><pre style="background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#069;font-weight:bold">const</span> { BrowserWindow } <span style="color:#555">=</span> require(<span style="color:#c30">&#39;electron&#39;</span>)

<span style="color:#069;font-weight:bold">let</span> win <span style="color:#555">=</span> <span style="color:#069;font-weight:bold">new</span> BrowserWindow({ webPreferences<span style="color:#555">:</span> {devTools<span style="color:#555">:</span> <span style="color:#069;font-weight:bold">false</span>} })
</code></pre></div>
<p>See: <a href="https://github.com/electron/electron/blob/master/docs/api/browser-window.md#new-browserwindowoptions">https://github.com/electron/electron/blob/master/docs/api/browser-window.md#new-browserwindowoptions</a></p>

<p>You may have to take other measures too to hide DevTools successfully.</p>

    <div id="react-support-footer-root">
      
    </div>
  </div>
</div>
</div>

<div class="dc-page">
	<div id="disqus_thread"></div>

  <div style="text-align: center;"> &copy; 2019 <a target="_blank" href="https://rocketlaunchr.cloud">rocketlaunchr.cloud</a>. All rights reserved.</div>
</div>
<script>




var disqus_config = function () {
this.page.url = "https://electron.guide/final-polish/renderer/";  
this.page.identifier = "/final-polish/renderer/"; 
};

(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://electron-guide.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>



</div>

<script>

    window.__INITIAL_STATE__ = {
        "page": {
            "title": "Index",
            "support": false,
            "path": "/"
        },
        "data": {
            "navigation": {
                "logo": {
                    "text": "electron.guide",
                    "type": "link",
                    "path": "/"
                },
                "main": [
                    {
                        "text": "Cross Platform",
                        "type": "label",
                    },
                    {
                        "text": "BrowserWindow",
                        "type": "link",
                        "path": "/cross-platform/browser-window"
                    },
                    {
                        "text": "Context Menu",
                        "type": "link",
                        "path": "/cross-platform/context-menu"
                    },
                    {
                        "text": "Menu",
                        "type": "link",
                        "path": "/cross-platform/menu"
                    },
                    {
                        "text": "Notifications",
                        "type": "link",
                        "path": "/cross-platform/notifications"
                    },
                    {
                        "text": "Standard Dialogs",
                        "type": "link",
                        "path": "/cross-platform/standard-dialogs"
                    },
                    {
                        "text": "Tray",
                        "type": "link",
                        "path": "/cross-platform/tray"
                    },
                    {
                        "text": "The Final Polish",
                        "type": "label",
                    },
                    {
                        "text": "Application",
                        "type": "link",
                        "path": "/final-polish/application"
                    },
                    {
                        "text": "Renderer",
                        "type": "link",
                        "path": "/final-polish/renderer"
                    }
                ]
            }
        },
        "config": {
            "timezone": "UTC",
            "root": "/",
            
            
            "theme_config": {
                "swagger_ui": {
                    "version": 2,
                    "permalinks": true,
                    "api_explorer": true,
                    "download": "Download specification",
                    "show_extensions": false,
                    "deep_linking": true,
                    "display_operation_id": false,
                    "doc_expansion": "none"
                },
                "search": {
                    "route": "/js/lunr.json"
                },
                "favicon": "/favicon.ico",
                "google_analytics": "UA-141764204-1"
            }
        }
    }
</script>
  
      
      <script src="/js/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
      <script src="/js/lunr.js"></script>
      <script src="/js/search.js"></script>
  
      
      <script src="/js/doc.js"></script>
  
      

      <script type="text/javascript">
        $(document).ready(function(){
            
            $(".dropdown").click(function(){
                $(this).find(".dropdown-menu").slideToggle("fast");
            });
        });
        $(document).on("click", function(event){
            var $trigger = $(".dropdown");
            if($trigger !== event.target && !$trigger.has(event.target).length){
                $(".dropdown-menu").slideUp("fast");
            }            
        });
    </script>
    
  
  </body></html>

